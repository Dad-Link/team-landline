name = "Team Connect"
client_id = "29fb57e2427ae4aa6024e22237603a9c"
application_url = "https://api-ccjbcxfx2a-uc.a.run.app"
embedded = true

[access_scopes]
# No scopes needed since you don't access Shopify data
scopes = ""

[auth]
redirect_urls = [
  "https://api-ccjbcxfx2a-uc.a.run.app/auth/callback",
  "https://api-ccjbcxfx2a-uc.a.run.app/auth/billing/callback"
]

[webhooks]
api_version = "2025-01"

# App uninstalled webhook
[[webhooks.subscriptions]]
topics = ["app/uninstalled"]
uri = "/webhooks/app/uninstalled"

# Billing webhooks
[[webhooks.subscriptions]]
topics = ["app_subscriptions/update"]
uri = "/webhooks/app_subscriptions/update"

# GDPR mandatory webhooks
[[webhooks.subscriptions]]
topics = ["customers/data_request"]
uri = "/webhooks/customers/data_request"

[[webhooks.subscriptions]]
topics = ["customers/redact"]
uri = "/webhooks/customers/redact"

[[webhooks.subscriptions]]
topics = ["shop/redact"]
uri = "/webhooks/shop/redact"

[app_proxy]
url = "https://api-ccjbcxfx2a-uc.a.run.app/proxy"
subpath = "tools"
prefix = "apps"

[pos]
embedded = false

# App preferences - proper embedded app URL
[app_preferences]
url = "https://api-ccjbcxfx2a-uc.a.run.app/?shop={shop}&host={host}"

# GDPR compliance URLs (required for App Store)
[gdpr]
customers_data_request_url = "https://api-ccjbcxfx2a-uc.a.run.app/webhooks/customers/data_request"
customers_redact_url = "https://api-ccjbcxfx2a-uc.a.run.app/webhooks/customers/redact"
shop_redact_url = "https://api-ccjbcxfx2a-uc.a.run.app/webhooks/shop/redact"
